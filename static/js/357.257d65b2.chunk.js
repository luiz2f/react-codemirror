"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[357],{50357:(e,n,t)=>{t.r(n),t.d(n,{Component:()=>f});var r=t(98846),o=t(80905),s=t(27406),a=t(67538),i=t(8070),c=t(69332);const l="// The player has a position, a size, and a current speed.\nclass Player {\n  size = new Vec(0.8, 1.5);\n\n  constructor(pos, speed) {\n    this.pos = pos;\n    this.speed = speed;\n  }\n\n  static create(pos) {\n    return new Player(pos.plus(new Vec(0, -0.5)), new Vec(0, 0));\n  }\n}\n\n// Lava block. When you touch it, you die.\nclass Lava {\n  size = new Vec(1, 1)\n\n  constructor(pos, speed, reset) {\n    this.pos = pos;\n    this.speed = speed;\n    this.reset = reset;\n  }\n\n  static horizontal(pos) {\n    return new Lava(pos, new Vec(2, 0));\n  }\n\n  static vertical(pos) {\n    return new Lava(pos, new Vec(0, 2));\n  }\n\n  static drip(pos) {\n    return new Lava(pos, new Vec(0, 3), pos);\n  }\n}\n";var d=t(94458),u=t(98557);const h=s.default.Original,g=s.default.Modified,p=()=>{const[e,n]=(0,o.useState)("a-b"),[t,r]=(0,o.useState)(),[p,f]=(0,o.useState)(!0),[v,x]=(0,o.useState)(!0),[m,C]=(0,o.useState)({}),{theme:b}=(0,d.D)(),[w,j]=(0,o.useState)(l),y=(0,o.useRef)();return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("button",{onClick:()=>{y.current=Math.floor(101*Math.random());const e="// hello world"+y.current+"\n"+l;j(e)},children:["Change Original Value ",y.current]}),(0,u.jsxs)(s.default,{orientation:e,revertControls:t,collapseUnchanged:m,highlightChanges:p,gutter:v,style:{height:300,overflow:"auto"},theme:b,children:[(0,u.jsx)(h,{value:w,extensions:[c.cg.javascript()],onChange:e=>{}}),(0,u.jsx)(g,{value:'class Player {\n  get type() { return "player" }\n\n  constructor(pos, speed) {\n    this.pos = pos;\n    this.speed = speed;\n  }\n\n  static create(pos) {\n    return new Player(pos.plus(new Vec(0, -0.5)), new Vec(0, 0));\n  }\n}\n\nclass Lava {\n  constructor(pos, speed, reset) {\n    this.pos = pos;\n    this.speed = speed;\n    this.reset = reset;\n  }\n\n  get type() { return "lava"; }\n\n  static create(pos, ch) {\n    if (ch == "=") {\n      return new Lava(pos, new Vec(2, 0));\n    } else if (ch == "|") {\n      return new Lava(pos, new Vec(0, 2));\n    } else if (ch == "v") {\n      return new Lava(pos, new Vec(0, 3), pos);\n    }\n  }\n}\n\nPlayer.prototype.size = new Vec(0.8, 1.5);\nLava.prototype.size = new Vec(1, 1);\n',extensions:[c.cg.javascript(),a.Lz.editable.of(!1),i.$t.readOnly.of(!0)]})]}),(0,u.jsxs)("label",{children:["Orientation",(0,u.jsxs)("select",{onChange:e=>{n(e.target.value)},defaultValue:e,children:[(0,u.jsx)("option",{value:"",children:"please orientation choose"}),(0,u.jsx)("option",{value:"a-b",children:"a-b"}),(0,u.jsx)("option",{value:"b-a",children:"b-a"})]})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Revert buttons",(0,u.jsxs)("select",{defaultValue:t,onChange:e=>r(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"please revertControls choose"}),(0,u.jsx)("option",{value:"a-to-b",children:"a-to-b"}),(0,u.jsx)("option",{value:"b-to-a",children:"b-to-a"})]})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Highlight changes",(0,u.jsx)("input",{type:"checkbox",checked:!!p,onChange:e=>f(e.target.checked)})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Gutter markers",(0,u.jsx)("input",{type:"checkbox",checked:!!v,onChange:e=>x(e.target.checked)})]}),(0,u.jsxs)("label",{children:["Collapse unchanged code",(0,u.jsx)("input",{type:"checkbox",checked:!!m,onChange:e=>C(e.target.checked?{}:void 0)})]})]})},f=()=>(0,u.jsx)(r.lN,{path:()=>t.e(8263).then(t.bind(t,98263)),children:(0,u.jsx)(p,{})})},94458:(e,n,t)=>{t.d(n,{D:()=>o});var r=t(80905);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";const n=document.documentElement.getAttribute("data-color-mode"),[t,o]=(0,r.useState)("dark"===n?"dark":e);return(0,r.useEffect)((()=>{o("dark"===document.documentElement.getAttribute("data-color-mode")?"dark":"light"),document.addEventListener("colorschemechange",(e=>{o(e.detail.colorScheme)}))}),[]),{theme:t,setTheme:o}}},27406:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var r=t(68102),o=t(49257),s=t(80905),a=t(73562),i=t(98557),c={modified:{doc:""},original:{doc:""}},l=(0,s.createContext)(c);function d(e,n){return(0,r.A)({},e,n,{modified:(0,r.A)({},e.modified,n.modified),original:(0,r.A)({},e.original,n.original)})}var u=()=>(0,s.useContext)(l),h=e=>{var{children:n,theme:t}=e,[o,a]=(0,s.useReducer)(d,(0,r.A)({},c,{theme:t}));return(0,s.useEffect)((()=>a({theme:t})),[t]),(0,i.jsx)(l.Provider,{value:(0,r.A)({},o,{dispatch:a}),children:n})},g=["extensions","value","selection","onChange"],p=e=>{var{extensions:n=[],value:t,selection:i,onChange:c}=e,l=(0,o.A)(e,g),{theme:d,dispatch:h}=u(),p=(0,a.getDefaultExtensions)((0,r.A)({},l,{theme:d}));return(0,s.useEffect)((()=>h({original:{doc:t,selection:i,extensions:[...p,...n]},originalExtension:{onChange:c,option:l,extension:[n]}})),[e]),null};p.displayName="CodeMirrorMerge.Original";var f=["extensions","value","selection","onChange"],v=e=>{var{extensions:n=[],value:t,selection:i,onChange:c}=e,l=(0,o.A)(e,f),{theme:d,dispatch:h}=u(),g=(0,a.getDefaultExtensions)((0,r.A)({},l,{theme:d}));return(0,s.useEffect)((()=>{h({modified:{doc:t,selection:i,extensions:[...g,...n]},modifiedExtension:{onChange:c,option:l,extension:[n]}})}),[e]),null};v.displayName="CodeMirrorMerge.Modified";var x=t(60125),m=t(67538),C=["className","children","orientation","revertControls","highlightChanges","gutter","collapseUnchanged","destroyRerender","renderRevertControl"],b=["modified","modifiedExtension","original","originalExtension","theme","dispatch"],w=s.forwardRef(((e,n)=>{var{className:t,children:c,orientation:l,revertControls:d,highlightChanges:h,gutter:g,collapseUnchanged:p,destroyRerender:f=!0,renderRevertControl:v}=e,w=(0,o.A)(e,C),j=u(),{modified:y,modifiedExtension:A,original:E,originalExtension:k,theme:V,dispatch:L}=j,S=(0,o.A)(j,b),M=(0,s.useRef)(null),R=(0,s.useRef)(),z={orientation:l,revertControls:d,highlightChanges:h,gutter:g,collapseUnchanged:p,renderRevertControl:v};(0,s.useImperativeHandle)(n,(()=>({container:M.current,view:R.current,modified:y,original:E,config:(0,r.A)({a:E,b:y,parent:M.current},z)})),[M,R,y,E,z]);var D=m.Lz.updateListener.of((e=>{if(e.docChanged&&"function"===typeof(null==k?void 0:k.onChange)){var n=e.state.doc.toString();null==k||k.onChange(n,e)}})),N=m.Lz.updateListener.of((e=>{if(e.docChanged&&"function"===typeof(null==A?void 0:A.onChange)){var n=e.state.doc.toString();null==A||A.onChange(n,e)}}));(0,s.useEffect)((()=>{!R.current&&M.current&&k&&A&&(R.current=new x.SV((0,r.A)({a:(0,r.A)({},E,{extensions:[...(null==k?void 0:k.extension)||[],...(0,a.getDefaultExtensions)((0,r.A)({},null==k?void 0:k.option,{theme:V})),D]}),b:(0,r.A)({},y,{extensions:[...(null==A?void 0:A.extension)||[],...(0,a.getDefaultExtensions)((0,r.A)({},null==A?void 0:A.option,{theme:V})),N]}),parent:M.current},z)),L({view:R.current}))}),[R,M,k,A]),(0,s.useEffect)((()=>{if(E&&E.doc&&R.current){var e,n,t=null==(e=R.current)?void 0:e.a.state.doc.toString();if(t!==E.doc)null==(n=R.current)||n.a.dispatch({changes:{from:0,to:t.length,insert:E.doc||""}})}if(y&&y.doc&&R.current){var o,s,i=null==(o=R.current)?void 0:o.b.state.doc.toString();if(i!==y.doc)null==(s=R.current)||s.b.dispatch({changes:{from:0,to:i.length,insert:y.doc||""}})}if(f&&R.current){var c=R.current.a.state.selection.ranges[0].from,l=R.current.b.state.selection.ranges[0].from;R.current.destroy(),R.current=new x.SV((0,r.A)({a:(0,r.A)({},E,{extensions:[...(null==k?void 0:k.extension)||[],...(0,a.getDefaultExtensions)((0,r.A)({},null==k?void 0:k.option,{theme:V}))]}),b:(0,r.A)({},y,{extensions:[...(null==A?void 0:A.extension)||[],...(0,a.getDefaultExtensions)((0,r.A)({},null==A?void 0:A.option,{theme:V}))]}),parent:M.current},z)),c&&(R.current.a.focus(),R.current.a.dispatch({selection:{anchor:c,head:c}})),l&&(R.current.b.focus(),R.current.b.dispatch({selection:{anchor:l,head:l}}))}}),[R,V,M.current,E,y,k,A,f]),(0,s.useEffect)((()=>()=>R.current&&R.current.destroy()),[]),(0,s.useEffect)((()=>{if(R.current){var e={};S.orientation!==l&&(e.orientation=l),S.revertControls!==d&&(e.revertControls=d),S.highlightChanges!==h&&(e.highlightChanges=h),S.gutter!==g&&(e.gutter=g),S.collapseUnchanged!==p&&(e.collapseUnchanged=p),S.renderRevertControl!==v&&(e.collapseUnchanged=p),Object.keys(e).length&&L&&R.current&&(R.current.reconfigure((0,r.A)({},e)),L((0,r.A)({},e)))}}),[L,R,l,d,h,g,p,v]);return(0,i.jsx)("div",(0,r.A)({ref:M,className:"cm-merge-theme"+(t?" "+t:"")},w,{children:c}))}));w.displayName="CodeMirrorMerge.Internal";var j=["theme"],y=s.forwardRef(((e,n)=>{var{theme:t}=e,s=(0,o.A)(e,j);return(0,i.jsx)(h,{theme:t,children:(0,i.jsx)(w,(0,r.A)({},s,{ref:n}))})}));y.Original=p,y.Modified=v,y.displayName="CodeMirrorMerge";const A=y}}]);
//# sourceMappingURL=357.257d65b2.chunk.js.map